var onLineIcon=true;var rightStyle="left-in";var leftNav=true;var rightNav=true;var $screenChangeWt=1212;$(function(){let l;if(typeof dataCheckElevator!=="undefined"){l=dataCheckElevator.onlineElevatorUrl.split("index.html")[0]}else{l=""}if(typeof dataMainElevator!=="undefined"){a(dataMainElevator)}else{const e=(new Date).getTime();const _=l+"data-main-elevator.json"+"?"+e;fetch(_).then(e=>{if(!e.ok){throw new Error("fetch時http錯誤："+e.status)}return e.json()}).then(e=>a(e)).catch(e=>{throw new Error("本機端fetch失敗："+e)})}if(window.notRightElevator)rightNav=false;if(!leftNav&&!rightNav)return false;var c=location.href.split("linkName")[1];function a(e){t();p();n(e);s(e);r(e);o();v();f();$(document).on("click",".js-ElevatorBtn-m",d);$(document).on("click","#overlay-mask",u)}function t(){$("body").append('<div class="elevatorHome js--main--dialog" id="elevatorHome_2"></div>');$("body").addClass("safe-area-padding-bottom");$("head").append('<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">')}function n(e){const a=e;const t=l;let i;if(typeof a.bottom[1].webLink==="undefined"){i=a.main.webLink}else{i=a.bottom[1].webLink}$("body").append('<div class="footer__box" id="footerBox"></div>');var n="";n+='<div class="footer__box">';n+='<ul class="footer__ul">';n+='<li class="footer__list js-ElevatorBtn-m" data-dialog="elevatorHome_2">';n+='<img src="'+t+"icon-1.png"+'" alt="">';n+="<p>"+a.bottom[0].text+"</p>";n+="</li>";n+='<li class="footer__list icon__main">';n+='<a href="'+i+'">';n+='<img src="'+t+"icon-2.png"+'" alt="">';n+="<p>"+a.bottom[1].text+"</p>";n+="</a></li>";n+=' <li class="footer__list js-ElevatorBtn-m" data-dialog="elevatorHome">';n+='<img src="'+t+"icon-3.png"+'" alt="">';n+="<p>"+a.bottom[2].text+"</p>";n+="</li>";n+="</ul></div>";$("#footerBox").html(n)}function s(e){const a=e;a.sub.forEach(function(e,a){e.webLink+="?linkNameEv"+(a+1)+"linkName";if(e.mobileLink)e.mobileLink+="?linkNameEv"+(a+1)+"linkName"});a.sub.forEach(function(e,a){var t="%3FlinkNameEv"+(a+1)+"linkName";var i="";var n=e.appLink.match("app.html");if(n){i=e.appLink.replace("app.html","app.html"+t);e.appLink=i}});a.depart.forEach(function(e,a){e.webLink+="?linkNameEv"+(a+20)+"linkName";if(e.mobileLink)e.mobileLink+="?linkNameEv"+(a+1)+"linkName"});a.depart.forEach(function(e,a){var t="%3FlinkNameEv"+(a+20)+"linkName";var i="";var n=e.appLink.match("app.html");if(n){i=e.appLink.replace("app.html","app.html"+t);e.appLink=i}})}function r(e){if(!leftNav)return false;const v=e;function a(){var t="";t+='<nav id="spFixedNav" class="sp-fixed__nav">';t+='<ul class="sp-nav_ul js-nav_ul">';t+='<li class="sp-nav__home"><a href="'+v.main.webLink+'" title="回主會場" target="'+(v.main.blank?"_blank":"")+'">回主會場</a></li>';for(var i=0;i<v.sub.length;i++){var e=v.sub[i].webLink.split("linkName")[1];if(c===e&&e!=undefined){t+='<li class="sp-nav__'+i+' js-sp__nav__all sp-nav_g1"><a href="'+v.sub[i].webLink+'" title="'+v.sub[i].text+'"  target="'+(v.sub[i].target?"_blank":"")+'" class="active">'+v.sub[i].text+"</a></li>"}else{t+='<li class="sp-nav__'+(i+1)+' js-sp__nav__all sp-nav_g1"><a href="'+v.sub[i].webLink+'" title="'+v.sub[i].text+'" target="'+(v.sub[i].target?"_blank":"")+'">'+v.sub[i].text+"</a></li>"}}t+='<li class="sp-nav__home_2"><a href="">精選品類</a></li>';for(var i=0;i<v.depart.length;i++){if(i%2===0){var n=v.depart[i].webLink.split("linkName")[1];var l=v.depart[i+1].webLink.split("linkName")[1];t+='<li class="sp-nav__2'+i+' js-sp__nav__all sp-nav_g2">';a();t+="</li>"}}t+='<li class="sp-nav__bottom"></li>';t+="</ul>";t+="</nav>";r();function a(){var e=v.depart[i];var a=v.depart[i+1];if(c===n&&n!=undefined){t+=s(e,true);t+=s(a,false)}else if(c===l&&l!=undefined){t+=s(e,false);t+=s(a,true)}else{t+=s(e,false);t+=s(a,false)}}function s(e,a){if(a){return'<a href="'+e.webLink+'" title="'+e.text+'" target="'+(e.blank?"_blank":"")+'" class="nav_bg2 active">'+e.text+"</a>"}else{return'<a href="'+e.webLink+'" title="'+e.text+'" target="'+(e.blank?"_blank":"")+e.target+'" class="nav_bg2">'+e.text+"</a>"}}function r(){var e=$("#elevatorHome");var a=$("body");if(e){e.html(t)}else{a.html(t)}}}function t(n=false){var l="";function e(){l+='<nav id="spFixedNav" class="sp-fixed__nav">';l+='<ul class="sp-nav_ul js-nav_ul sp-nav_ul-1">';for(var e=0;e<v.sub.length;e++){const t=v.sub[e].mobileLink?v.sub[e].mobileLink:v.sub[e].webLink;const i=n?v.sub[e].appLink:t;var a=i.split("linkName")[1];if(c===a&&a!=undefined){l+='<li class="sp-nav__2'+e+' js-sp__nav__all sp-nav_g1 active"><a href="'+i+'" title="'+v.sub[e].text+'" target="'+(v.sub[e].target?"_blank":"")+'" class="nav_bg2">'+v.sub[e].text+"</a></li>"}else{l+='<li class="sp-nav__2'+e+' js-sp__nav__all sp-nav_g1"><a href="'+i+'" title="'+v.sub[e].text+'" target="'+(v.sub[e].target?"_blank":"")+'" class="nav_bg2">'+v.sub[e].text+"</a></li>"}}l+="</ul>";l+="</nav>"}e();s();function a(){var e=isAppNav_brand[i];var a=isAppNav_brand[i+1];if(c===getSearch2&&getSearch2!=undefined){l+=t(e,true);l+=t(a,false)}else if(c===getSearch3&&getSearch3!=undefined){l+=t(e,false);l+=t(a,true)}else{l+=t(e,false);l+=t(a,false)}}function t(e,a){if(a){return'<a href="'+e.linkUrl+'" title="'+e.words+'" target="'+e.target+'" class="nav_bg2 active">'+e.words+"</a>"}else{return'<a href="'+e.linkUrl+'" title="'+e.words+'" target="'+e.target+'" class="nav_bg2">'+e.words+"</a>"}}function s(){var e=$("#elevatorHome");var a=$("body");if(e){e.html(l)}else{a.html(l)}}}function n(r=false){var o="";function e(){o+='<nav id="spFixedNav" class="sp-fixed__nav">';o+='<ul class="sp-nav_ul js-nav_ul sp-nav_ul-1">';var e=window.location;var a=e.href;var t=a.split("linkName")[1];for(var i=0;i<v.depart.length;i++){const l=v.depart[i].mobileLink?v.depart[i].mobileLink:v.depart[i].webLink;const s=r?v.depart[i].appLink:l;var n=s.split("linkName")[1];if(t===n&&n!=undefined){o+='<li class="sp-nav__'+i+' js-sp__nav__all sp-nav_g1 active"><a href="'+s+'" title="'+v.depart[i].text+'"  target="'+(v.depart[i].target?"_blank":"")+'">'+v.depart[i].text+"</a></li>"}else{o+='<li class="sp-nav__'+i+' js-sp__nav__all sp-nav_g1"><a href="'+s+'" title="'+v.depart[i].text+'" target="'+(v.depart[i].target?"_blank":"")+'">'+v.depart[i].text+"</a></li>"}}o+="</ul>";o+="</ul>";o+="</nav>"}e();a();function a(){var e=$("#elevatorHome_2");var a=$("body");if(e){e.html(o)}else{a.html(o)}}}function l(){if(isApp()){const isApp=true;t(isApp);n(isApp)}else{s();$(window).on("resize",s)}}function s(){var e=$(document).width();if(e>$screenChangeWt){a();r()}else{t();n()}}function r(){var i=$(document);i.on("scroll",function(){var e=$("#spFixedNav");function a(){if(i.scrollTop()>=300){e.css({"pointer-events":""})}}var t=$(document).width();if(t>$screenChangeWt){a()}})}l();var o=true;$(window).resize(function(){var e=$(document).width();if(e>$screenChangeWt&&o){l();$("#elevatorHome").css("display","block");$("#elevatorHome_2").css("display","none");o=false}else if(e<=$screenChangeWt){$("#elevatorHome").css("display","none");o=true}})}function o(){if(!rightNav)return false;var a;var e=["fade-in","left-in","up-in"];if(typeof rightStyle!=="undefined"){e.forEach(function(e){if(rightStyle===e)a=e})}else{a=null}var t=Array.apply(null,document.querySelectorAll("[data-title]"));var i="";var n=[];var l=$("#navRightBar");i+='<nav id="spRightNav" class="sp-right__nav">';i+='<ul class="sp-nav-right_ul" id="spNavRightUl">';i+='<li class="sp-bav_top_img"></li>';t.forEach(function(e){var a=e.getAttribute("data-title");var t=a.indexOf("stop")==-1;if(a&&t){i+=' <li class="sp-nav_right"><a href="#'+a+'">'+a+"</a></li>";n.push(a)}else if(!t){i+=' <li class="sp-nav_right" style="width: 0; min-width: 0;"></li>';n.push(a)}});i+='<li class="sp-nav-right__top" id="navTop"><a href="" title="TOP">TOP</a></li>';i+='<li class="sp-nav-right__mobile__click" id="clickMenu"></li>';i+="</ul>";i+="</nav>";var s=$("#navRightBar");var r=$("body");if(s){s.html(i)}else{r.html(i)}var o=document.getElementById("spRightNav");if(a){o.classList.add(a);function v(){if(window.pageYOffset>=300){o.classList.add("active")}else{o.classList.remove("active")}}document.addEventListener("scroll",v);var c=document.getElementById("spRightNav");var f=c.clientHeight;var d=detectElementTop(c);var u=window.innerHeight;var p=d+f-u;if(window.innerWidth>=960&&p>0){var h=document.body.clientHeight;var m=p/h;document.addEventListener("scroll",function(){if(window.scrollY>u+f/2){c.style.transform="translateY("+window.scrollY*m*-1+"px"+")"}else{c.style=""}})}}var _=n.filter(function(e){return e&&e.trim()});if(_.length==0){document.getElementById("navRightBar").style.display="none"}var g=function(e){e.on("click",function(e){e.preventDefault();$("html, body").animate({scrollTop:0},300)})};var b=l.find("#navTop");g(b)}function v(){$(".js-sp__nav__all > a").click(function(){$(".js-sp__nav__all a").removeClass("active");$(this).addClass("active")});var e=$(document).width();if($(".active").length){var a=$(".active").offset().left-e/2}$(".js-nav_ul").stop().animate({scrollLeft:a})}function f(){function t(t){if(!rightNav)return false;var e=Array.apply(null,document.querySelectorAll("[data-title]"));var i=[];var a=Array.apply(null,document.querySelectorAll("#spNavRightUl a"));var n=document.documentElement.scrollTop||document.body.scrollTop;var l=document.querySelector(".sp-right__nav").offsetHeight+2||41;var t=$(document).width();var s=0;e.forEach(function(e){var a=e.getAttribute("data-title");var t=a.indexOf("stop")==-1;if(a&&t){i.push(e)}});i.forEach(function(e,a){if(t>$screenChangeWt&&n-e.offsetTop>=0){s=a}else if(t<=$screenChangeWt&&n-e.offsetTop+l>=0){s=a}});if(s===-1)return;a.forEach(function(e){e.classList.remove("active")});a[s].classList.add("active");var r=$("#spRightNav li").width()||90;if($(".active").length){var o=r*s-t/3;$("#spNavRightUl").stop().animate({scrollLeft:o})}}$.debounce=function(i,n,l){var s;return function(){var e=this,a=arguments;later=function(){s=null;if(!l)i.apply(e,a)};var t=l&&!s;clearTimeout(s);s=setTimeout(later,n);if(t)i.apply(e,a)}};$.throttle=function(a,t){var i,n,l,s,r,o;var v=$.debounce(function(){r=s=false},t);return function(){i=this,n=arguments;var e=function(){l=null;if(r)a.apply(i,n);v()};if(!l)l=setTimeout(e,t);if(s){r=true}else{o=a.apply(i,n)}v();s=true;return o}};var e=$.throttle(function(e){var a=$(document).width();t(a)},200);window.addEventListener("scroll",e);$(document).on("click","#spNavRightUl .sp-nav_right a",function(e){var a=$(this).parent().siblings("#clickMenu");var t=a.parent();var i=t.hasClass("click--active");var n=$(".sp-nav-right__mobile__click");var l=$("body");m(a,n,t,l);var s=$(document).width();var r=$(this).attr("href").substr(1);var o=$('[data-title="'+r+'"]');var v=o.offset().top+10;if(s>$screenChangeWt){$("html, body").animate({scrollTop:v})}else{$("html, body").animate({scrollTop:v-$("#spRightNav").height()})}return false})}function d(e){e.preventDefault();var a=$("body");var t=$(this).attr("data-dialog");var i=$(".js--main--dialog");var n=$(".js-ElevatorBtn-m");if($(this).hasClass("footer__fixed-active")){a.removeClass("locked");$(".overlay-mask").remove();i.fadeOut(200).removeClass("overlay-open");s("","","","");n.removeClass("footer__fixed-active")}else{a.removeClass("locked");$(".overlay-mask").remove();i.fadeOut(200).removeClass("overlay-open");s("","","","");a.addClass("locked");n.removeClass("footer__fixed-active");r();$(this).toggleClass("footer__fixed-active")}function l(){i.each(function(){if(t==$(this).attr("id")){$(this).fadeIn(200).addClass("overlay-open")}})}function s(e,a,t,i){$(".sp__visual").css("z-index",e);$("html, body").css({"overflow-y":i,top:t,right:t,left:t,bottom:t,position:a})}function r(){a.prepend('<div id="overlay-mask" class="overlay-mask"></div>');l()}}function u(e){e.preventDefault();var a=$(this);var t=$("body");var i=$(".js--main--dialog");var n=$(".js-ElevatorBtn-m");a.remove();i.fadeOut(200).removeClass("overlay-open");l("","","","");n.removeClass("footer__fixed-active");t.removeClass("locked");function l(e,a,t,i){$(".sp__visual").css("z-index",e);$("html, body").css({"overflow-y":i,top:t,right:t,left:t,bottom:t,position:a})}}function p(){$(document).on("click","#clickMenu",function(){var e=$(this);var a=e.parent();var t=a.hasClass("click--active");var i=$(".sp-nav-right__mobile__click");var n=$("body");if(t==false){h(e,i,a,n)}else{m(e,i,a,n)}})}function h(e,a,t,i){i.css("padding-top","39px");a.addClass("btn--active");t.addClass("click--active close");e.addClass("close");t.parents(".navRightBar").addClass("add--fixed")}function m(e,a,t,i){i.css("padding-top","");a.removeClass("btn--active");t.removeClass("click--active");e.removeClass("close");t.parents(".navRightBar").removeClass("add--fixed")}});function detectElementTop(e){var a=e.offsetTop;var t=e.offsetParent;while(t!==null){a+=t.offsetTop;t=t.offsetParent}return a}function checkAppRunBuild(){var e=/(WebView|(iPhone|iPod|iPad)(?!.*Safari\/)(?!.*Line\/)|Android.*(wv|.0.0.0))(?!.*Line\/)/gi.test(navigator.userAgent);if(e){const e=true;buildMobileNav(e);buildMobileNav_2(e)}else{resizeInitPage();$(window).on("resize",resizeInitPage)}}function isApp(){var e=/(WebView|(iPhone|iPod|iPad)(?!.*Safari\/)(?!.*Line\/)|Android.*(wv|.0.0.0))(?!.*Line\/)/gi.test(navigator.userAgent);if(e)return true;else return false}